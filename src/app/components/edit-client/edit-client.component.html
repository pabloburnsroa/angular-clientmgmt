<div class="row">
  <div class="col-md-6">
    <a routerLink="/client/{{ id }}" class="btn btn-link">
      <i class="fas fa-arrow-circle-left"></i> Back to client
    </a>
  </div>
  <div class="col-md-6"></div>
</div>

<div class="card">
  <div>
    <div class="card-header">Add Client</div>
    <div class="card-body">
      <form #clientForm="ngForm" (ngSubmit)="onSubmit(clientForm.value)">
        <!-- First Name-->
        <div class="form-group">
          <label for="firstName">First Name</label>
          <input
            type="text"
            class="form-control"
            id="firstName"
            required
            [(ngModel)]="client.firstName"
            name="firstName"
            #firstName="ngModel"
            minlength="2"
          />
          <div
            *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
            class="alert alert-danger"
          >
            <div *ngIf="firstName.errors?.['required']">
              First name is required.
            </div>
            <div *ngIf="firstName.errors?.['minlength']">
              First name must be at least 2 characters long.
            </div>
          </div>
        </div>
        <!-- Last Name-->
        <div class="form-group">
          <label for="lastName">Last Name</label>
          <input
            type="text"
            class="form-control"
            id="lastName"
            required
            [(ngModel)]="client.lastName"
            name="lastName"
            #lastName="ngModel"
            minlength="2"
          />
          <div
            *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
            class="alert alert-danger"
          >
            <div *ngIf="lastName.errors?.['required']">
              Last name is required.
            </div>
            <div *ngIf="lastName.errors?.['minlength']">
              Last name must be at least 2 characters long.
            </div>
          </div>
        </div>
        <!-- Email-->
        <div class="form-group">
          <label for="email">Email</label>
          <input
            type="email"
            required
            class="form-control"
            id="email"
            [(ngModel)]="client.email"
            name="email"
            #clientEmail="ngModel"
            pattern="^([a-zA-Z0-9_\-\.]+)@([a-zA-Z0-9_\-\.]+)\.([a-zA-Z]{2,5})$"
          />
          <div
            *ngIf="
              clientEmail.invalid && (clientEmail.dirty || clientEmail.touched)
            "
            class="alert alert-danger"
          >
            <div *ngIf="clientEmail.errors?.['required']">
              Email is required.
            </div>
            <div *ngIf="clientEmail.errors?.['pattern']">
              Email is not valid
            </div>
          </div>
        </div>
        <!-- Phone-->
        <div class="form-group">
          <label for="phone">Phone Number</label>
          <input
            type="text"
            required
            class="form-control"
            id="phone"
            [(ngModel)]="client.phone"
            name="phone"
            #clientphone="ngModel"
            pattern="^((\+44)|(0)) ?\d{4} ?\d{6}$"
          />
          <div
            *ngIf="
              clientphone.errors && (clientphone.dirty || clientphone.touched)
            "
            class="alert alert-danger"
          >
            <div *ngIf="clientphone.errors?.['required']">
              Phone number is required.
            </div>
            <div *ngIf="clientphone.errors?.['pattern']">
              Phone number is not valid
            </div>
          </div>
        </div>
        <!-- Balance-->
        <div class="form-group">
          <label for="balance">Balance</label>
          <input
            type="number"
            class="form-control"
            id="balance"
            [(ngModel)]="client.balance"
            name="balance"
            #clientbalance="ngModel"
            [disabled]="disableBalanceOnAdd"
          />
        </div>

        <div class="d-grid gap-2">
          <input
            type="submit"
            class="btn btn-primary btn-block mt-2"
            value="Update"
            [disabled]="!clientForm.form.valid"
          />
        </div>
      </form>
    </div>
  </div>
</div>
